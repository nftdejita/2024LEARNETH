シングルホップスワップは、ユーザーが流動性プール内で1つのトークンを直接別のトークンに交換できる機能です。このセクションでは、Uniswap V3 Swapコントラクトを使用してシングルホップスワップを実行する方法を学びます。

## 関数のパラメータ
8行目で、`swapExactInputSingleHop`という名前の関数を定義しています。この関数はシングルホップスワップを実行します。次のパラメータを受け取ります：
- **`address tokenIn`**: 送信されるトークンのアドレス。
- **`address tokenOut`**: 受け取るトークンのアドレス。
- **`uint24 poolFee`**: スワップに関連する手数料。
- **`uint amountIn`**: 送信される入力トークンの量。

この関数は`amountOut`という名前の`uint`を返します。これは受け取った出力トークンの量です。

## 関数の本体
関数の本体では、まず送信者からコントラクトに入力トークンを転送します（14行目）。
次に、Uniswap Swapコントラクトが代わりに入力トークンを使えるように承認します（15行目）。

17行目では、`ExactInputSingleParams`構造体のインスタンスを作成します。この構造体には、45行目の`exactInputSingle`関数を実行するために必要なパラメータが含まれています。インターフェースで定義されている構造体のインスタンスを作成するために、`ISwapRouter.ExactInputSingleParams`を2回繰り返します。

## ExactInputSingleParams構造体のパラメータ
構造体のパラメータを次のように設定します：
- **`tokenIn`**: 関数の`tokenIn`パラメータを設定します。
- **`tokenOut`**: 関数の`tokenOut`パラメータを設定します。
- **`fee`**: 関数の`poolFee`パラメータを設定します。
- **`recipient`**: トランザクションの送信者を設定します。
- **`deadline`**: 現在のタイムスタンプを設定します。これは、トランザクションをできるだけ早く処理したいためです。
- **`amountIn`**: 関数の`amountIn`パラメータを設定します。
- **`amountOutMinimum`**: 受け取る出力トークンの最小量を指定しないために0を設定します。
- **`sqrtPriceLimitX96`**: 価格の上限を指定しないために0を設定します。

## シングルホップスワップの実行
29行目で、`exactInputSingle`関数の出力を`amountOut`変数に割り当てます。この関数はシングルホップスワップを実行し、受け取った出力トークンの量を返します。