このコントラクトチュートリアルでは、ERC721（NFT）オークションコントラクトの作成方法を学びます。
このチュートリアルを始める前に、Learnethの「Solidity NFTコース」を受講することをお勧めします。

以下のセクションでは、最高入札者にNFTをオークションするためのコントラクトを作成します。このコントラクトは<a href="https://solidity-by-example.org/app/english-auction/" target="_blank">Solidity by Example</a>プロジェクトによって作成されました。最初のセクションでは、インターフェース、必要な状態変数、およびコンストラクタを作成します。

### インターフェース
ERC721トークンと対話する必要があるため、インターフェース（5行目）を作成します。`safeTransferFrom`（5行目）および`transferFrom`（11行目）メソッドが必要です。

### EnglishAuction
重要な操作をログに記録できるように、`Start`、`Bid`、`Withdraw`、`End`の4つのイベント（19〜22行目）を作成します。

次に、オークションに関するすべての必要な情報をオンチェーンで保存する状態変数を作成します。

オークションしたいNFTのための2つの状態変数を作成します。変数`nft`（24行目）には、インターフェースIERC721とNFTコントラクトのアドレスを組み合わせることで、その関数を呼び出すことができるNFTコントラクトの表現を保存します。`nftId`（25行目）には、オークションされる特定のトークンIDを保存します。

次に、NFTをオークションに出す人のアドレスを保存する変数`seller`（27行目）が必要です。オークション終了時に売上金を送信するために`address payable`を使用します。

オークションの終了日時を保存するための状態変数`endAt`（28行目）を作成します。また、オークションが開始されたか終了したかを追跡するための2つのブール値、`started`（29行目）と`ended`（30行目）を作成します。

最高入札者のアドレスを保存する変数`highestBidder`（32行目）を作成します。オークションが終了したら最高入札者にNFTを送信します。

最後に、最高入札を保存するためのuint `highestBid`（33行目）と、アカウントが引き出し前に行った入札の総価値を保存するためのマッピング`bids`（34行目）を作成します。この詳細については次のセクションで説明します。

### コンストラクタ
オークショニアがコントラクトをデプロイする際には、いくつかの引数を提供する必要があります：
オークションしたいNFTのコントラクトのアドレス`_nft`（37行目）、オークションしたいNFTのトークンID`_nftId`（38行目）、およびオークションで最初の入札を行うために上回らなければならない開始価格`_startingBid`（39行目）です。

デプロイされると、状態変数`nft`（41行目）、`nftId`（42行目）、`highestBid`（45行目）に引数からの値が割り当てられます。コントラクトをデプロイした`seller`のアドレスは自動的にmsg.senderから読み取られ、状態変数`seller`（44行目）に保存されます。

次のセクションでは、オークショニアがオークションを開始し、入札者が入札できるようにします。

## ⭐️ 課題
以下のセクションの課題部分を使用して、RemixのRemix VM環境でコントラクトをテストする手順を説明します。

1. NFTコントラクトをデプロイします。私たちが「3.3 ERC721 - トークン作成」セクションで作成したNFTコントラクトを使用できます。

2. このEnglishAuctionコントラクトをデプロイします。NFTコントラクトのアドレスを`_nft`パラメータとして、`_nftId`には0を、`_startingBid`には1を引数として使用します。

3. コントラクトをデプロイした後、`nft`、`nftId`、および`started`のようなコントラクト関数が期待通りに動作するかどうかをテストします。
